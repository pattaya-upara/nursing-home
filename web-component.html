<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Showcase - Bourbon3</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.cdnfonts.com/css/google-sans" rel="stylesheet">
    
    <!-- Design System Foundation -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/foundation/elements.css">

    <!-- External Utilities -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="js/utils/csv-parser.js"></script>
    <script src="js/api.js"></script>

    <!-- Web Components -->
    <script src="js/components/app-nav.js"></script>
    <script src="js/components/entity-card.js"></script>
    <script src="js/components/sidesheet-footer.js"></script>
    <script src="js/components/app-sidesheet.js"></script>
</head>

<body class="main-content-layout">
    <header>
        <h1>Component Showcase</h1>
        <p>This page demonstrates all available web components using the HSL-based design system and 8pt grid.</p>
    </header>

    <section>
        <h2 class="tertiary">Navigation (Horizontal / Topbar)</h2>
        <app-nav orientation="horizontal" show-profile="true">
            <a slot="menu" class="nav-link active" href="#"><i class="fas fa-chart-line me-2"></i> Dashboard</a>
            <a slot="menu" class="nav-link" href="#"><i class="fas fa-box me-2"></i> Packages</a>
            <a slot="menu" class="nav-link" href="#"><i class="fas fa-users me-2"></i> Teams</a>
        </app-nav>
    </section>

    <section style="display: flex; flex-direction: row; gap: 2em;">
        <div style="flex: 0 0 var(--sidebar-width); display: flex; flex-direction: column; gap: 1em;">
            <h2 class="tertiary">Navigation (Vertical / Sidebar)</h2>
            <app-nav orientation="vertical" style="position: relative; height: 500px;">
                <a slot="menu" class="nav-link active" href="#"><i class="fas fa-chart-line me-2"></i> Dashboard</a>
                <a slot="menu" class="nav-link" href="#"><i class="fas fa-box me-2"></i> Packages</a>
                <a slot="menu" class="nav-link" href="#"><i class="fas fa-users me-2"></i> Teams</a>
            </app-nav>
        </div>

        <div style="flex: 1; display: flex; flex-direction: column; gap: 2em;">
            <div id="entity-card-demo-section" style="display: flex; flex-direction: column; gap: 1em;">
                <h2 class="tertiary">Entity Card</h2>
                <!-- Card will be appended here directly -->
            </div>

            <div style="display: flex; flex-direction: column; gap: 1.5em;">
                <h2 class="tertiary">Sidesheet Footer</h2>
                <sidesheet-footer standalone save-label="Confirm Action"></sidesheet-footer>
            </div>

            <div style="display: flex; flex-direction: column; gap: 1em;">
                <h2 class="tertiary">Interactive Sidesheet</h2>
                <div>
                    <button class="primary" onclick="document.getElementById('demo-sheet').setAttribute('open', '')">Open Sidesheet Component</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Overlay Component Demo -->
    <app-sidesheet id="demo-sheet" title="Component Detail">
        <div slot="left">
            <h3>Left Pane Content</h3>
            <p>This area typically contains primary entity details or read-only information.</p>
        </div>
        <div slot="right">
            <h3>Right Pane Content</h3>
            <p>This area typically contains configuration forms or interactive elements.</p>
            <input type="text" placeholder="Sample Input Field">
        </div>
        <div slot="footer">
            <sidesheet-footer id="sheet-footer" save-label="Save Component"></sidesheet-footer>
        </div>
    </app-sidesheet>

    <script>
        async function initShowcase() {
            // Load a sample package for the entity card
            const packages = await API.getPackages();
            if (packages && packages.length > 0) {
                const pkg = packages[0];
                const card = document.createElement('entity-card');
                card.setAttribute('type', 'package');
                card.setAttribute('data', JSON.stringify(pkg));
                document.getElementById('entity-card-demo-section').appendChild(card);
            }

            // Close sheet handler
            document.getElementById('demo-sheet').addEventListener('close', () => {
                console.log('Sidesheet closed');
            });
            
            document.getElementById('sheet-footer').addEventListener('cancel', () => {
                document.getElementById('demo-sheet').removeAttribute('open');
            });
        }

        document.addEventListener('DOMContentLoaded', initShowcase);
    </script>
</body>

</html>