<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Showcase - Bourbon3</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.cdnfonts.com/css/google-sans" rel="stylesheet">
    
    <!-- Design System Foundation -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/foundation/elements.css">

    <!-- External Utilities -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="js/utils/csv-parser.js"></script>
    <script src="js/api.js"></script>

    <!-- Web Components -->
    <script src="js/components/app-topbar.js"></script>
    <script src="js/components/app-sidebar.js"></script>
    <script src="js/components/entity-card.js"></script>
    <script src="js/components/sidesheet-footer.js"></script>
    <script src="js/components/app-sidesheet.js"></script>
</head>

<body class="main-content-layout">
    <section>
        <h1>Component Showcase</h1>
        <p>This page demonstrates all available web components using the HSL-based design system and 8pt grid.</p>
    </section>

    <section>
        <h2 class="tertiary" style="font-size: 0.75em; text-transform: uppercase; letter-spacing: 0.1em; padding: 1em 0;">Topbar</h2>
        <app-topbar></app-topbar>
    </section>

    <section style="display: flex; gap: 2em; padding-top: 2em;">
        <div style="flex: 0 0 var(--sidebar-width);">
            <h2 class="tertiary" style="font-size: 0.75em; text-transform: uppercase; letter-spacing: 0.1em; padding-bottom: 1em;">Sidebar</h2>
            <app-sidebar style="position: relative; height: 500px; border: 1px solid var(--border);">
                <div slot="menu">
                    <a class="nav-link active" href="#"><i class="fas fa-chart-line"></i> Dashboard</a>
                    <a class="nav-link" href="#"><i class="fas fa-box"></i> Packages</a>
                    <a class="nav-link" href="#"><i class="fas fa-users"></i> Teams</a>
                </div>
            </app-sidebar>
        </div>

        <div style="flex: 1; display: flex; flex-direction: column; gap: 2em;">
            <div>
                <h2 class="tertiary" style="font-size: 0.75em; text-transform: uppercase; letter-spacing: 0.1em; padding-bottom: 1em;">Entity Card</h2>
                <div id="card-container" style="max-width: 400px;"></div>
            </div>

            <div>
                <h2 class="tertiary" style="font-size: 0.75em; text-transform: uppercase; letter-spacing: 0.1em; padding-bottom: 1em;">Sidesheet Footer</h2>
                <div style="background: white; padding: 1.5em; border-radius: 0.5em; border: 1px solid var(--border);">
                    <sidesheet-footer save-label="Confirm Action"></sidesheet-footer>
                </div>
            </div>

            <div>
                <h2 class="tertiary" style="font-size: 0.75em; text-transform: uppercase; letter-spacing: 0.1em; padding-bottom: 1em;">Interactive Sidesheet</h2>
                <button class="primary" onclick="document.getElementById('demo-sheet').setAttribute('open', '')">Open Sidesheet Component</button>
            </div>
        </div>
    </section>

    <!-- Overlay Component Demo -->
    <app-sidesheet id="demo-sheet" title="Component Detail">
        <div slot="left">
            <h3>Left Pane Content</h3>
            <p>This area typically contains primary entity details or read-only information.</p>
        </div>
        <div slot="right">
            <h3>Right Pane Content</h3>
            <p>This area typically contains configuration forms or interactive elements.</p>
            <input type="text" placeholder="Sample Input Field">
        </div>
        <div slot="footer">
            <sidesheet-footer id="sheet-footer" save-label="Save Component"></sidesheet-footer>
        </div>
    </app-sidesheet>

    <script>
        async function initShowcase() {
            // Load a sample package for the entity card
            const packages = await API.getPackages();
            if (packages && packages.length > 0) {
                const pkg = packages[0];
                const card = document.createElement('entity-card');
                card.setAttribute('type', 'package');
                card.setAttribute('data', JSON.stringify(pkg));
                document.getElementById('card-container').appendChild(card);
            }

            // Close sheet handler
            document.getElementById('demo-sheet').addEventListener('close', () => {
                console.log('Sidesheet closed');
            });
            
            document.getElementById('sheet-footer').addEventListener('cancel', () => {
                document.getElementById('demo-sheet').removeAttribute('open');
            });
        }

        document.addEventListener('DOMContentLoaded', initShowcase);
    </script>
</body>

</html>